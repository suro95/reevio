/*! snd v0.9.1 | https://github.com/chrsbrg/snd | Copyright 2016 Christian Schellenberg | Released under the MIT license */
!function(n){if(!n)return console.log("snd.js requires jQuery")
var t=function(t,e,i,l){var o={playing:!1,looped:!1,muted:!1,toggled:!1,init:function(){n.isArray(i)?e.src=i[0]:e.src=i,void 0!==l&&1==l.autoplay&&e.play()}(),duration:function(){t.find(".time").attr("max",e.duration),t.find(".duration").html(o.calc(e.duration)),t.find(".currenttime").html("00:00")},time:function(){t.find(".time").val(e.currentTime),t.find(".currenttime").html(o.calc(e.currentTime)),n.isArray(i)&&t.find(".time").val()==Math.floor(t.find(".time").attr("max"))&&i.length-1!=a.current&&a.next(),n.isArray(i)&&t.find(".time").val()==Math.floor(t.find(".time").attr("max"))&&i.length-1==a.current&&(o.playing=!1,o.toggle())},settime:function(){e.currentTime=n(this).val()},play:function(){o.playing=!0,e.play()},pause:function(){o.playing=!1,e.pause()},loop:function(){0==o.looped?e.loop=o.looped=!0:e.loop=o.looped=!1},mute:function(){0==o.muted?e.muted=o.muted=!0:e.muted=o.muted=!1},toggle:function(){0==o.toggled?(t.find(".toggle-play").hide(),t.find(".toggle-pause").show(),o.toggled=!0,o.play()):(t.find(".toggle-play").show(),t.find(".toggle-pause").hide(),o.toggled=!1,o.pause())},calc:function(n){var t=Math.floor(n/60)
return t=t>=10?t:"0"+t,n=Math.floor(n%60),n=n>=10?n:"0"+n,t+":"+n}},a={current:0,init:function(){n.isArray(i)&&t.find(".playlist_item").first().addClass("playing")}(),update:function(){e.src=i[a.current],e.load(),o.play()},change:function(){t.find(".toggle").length>0&&(o.toggled=!1,o.toggle()),t.find(".playing").removeClass("playing"),n(this).addClass("playing"),a.current=n(this).index(),a.update()},prev:function(){t.find(".playing").prev().length>0&&t.find(".playing").removeClass("playing").prev().addClass("playing"),t.find(".toggle").length>0&&(o.toggled=!1,o.toggle()),0!=a.current&&(a.current--,a.update())},next:function(){t.find(".playing").next().length>0&&t.find(".playing").removeClass("playing").next().addClass("playing"),t.find(".toggle").length>0&&(o.toggled=!1,o.toggle()),a.current!=i.length-1&&(a.current++,a.update())},shuffle:function(){o.pause()
for(var n=i.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),e=i[n]
i[n]=i[t],i[t]=e}a.current=0,a.update()}};(function(){e.addEventListener("loadedmetadata",o.duration),e.addEventListener("timeupdate",o.time,!1),t.find(".time").on("change",o.settime),t.find(".play").on("click",o.play),t.find(".pause").on("click",o.pause),t.find(".loop").on("click",o.loop),t.find(".mute").on("click",o.mute),t.find(".toggle").length>0&&(t.find(".toggle-pause").hide(),t.find(".toggle-play").on("click",o.toggle),t.find(".toggle-pause").on("click",o.toggle)),n.isArray(i)&&(t.find(".prev").on("click",a.prev),t.find(".next").on("click",a.next),t.find(".playlist_item").on("click",a.change))})()
t.find(".shuffle").on("click",a.shuffle)}
n.fn.snd=function(e,i){return this.each(function(){var l=n(this),o=new Audio
new t(l,o,e,i)})}}(window.jQuery)